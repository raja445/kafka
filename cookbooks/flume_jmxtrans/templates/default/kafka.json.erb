{
 "servers": [
  {
   "numQueryThreads": 8,
   "alias": "<%= @host %>",
   "host": "<%= @fqdn %>",
   "port": 2520,
   "queries": [
    {
     "resultAlias": "flume.sink",
     "obj": "org.apache.flume.sink:type=*,*",
     "attr": [
     ],
     "outputWriters": [
      {
       "@class": "com.googlecode.jmxtrans.model.output.GraphiteWriter",
       "settings": {
        "typeNames": [
         "name","type"
        ],
        "host": "<%= @graphite_host %>",
        "port": 2020,
        "rootPrefix": "prod.<%= @colo %>.grid.<%= @cluster_name %>.app"
       }
      }
     ]
    },
    {
     "resultAlias": "flume.gc",
     "obj": "java.lang:type=GarbageCollector,name=*",
     "attr": [
      "CollectionCount",
      "CollectionTime"
     ],
     "outputWriters": [
      {
       "@class": "com.googlecode.jmxtrans.model.output.GraphiteWriter",
       "settings": {
        "typeNames": [
         "name"
        ],
        "host": "<%= @graphite_host %>",
        "port": 2020,
        "rootPrefix": "prod.<%= @colo %>.grid.<%= @cluster_name %>.app"
       }
      }
     ]
    },
    {
     "resultAlias": "flume.source",
     "obj": "org.apache.flume.source:type=*,*",
     "attr": [
     ],
     "outputWriters": [
      {
       "@class": "com.googlecode.jmxtrans.model.output.GraphiteWriter",
       "settings": {
        "typeNames": [
         "name","type"
        ],
        "host": "<%= @graphite_host %>",
        "port": 2020,
        "rootPrefix": "prod.<%= @colo %>.grid.<%= @cluster_name %>.app"
       }
      }
     ]
    },
    {
     "resultAlias": "flume.channel",
     "obj": "org.apache.flume.channel:type=*,*",
     "attr": [
     ],
     "outputWriters": [
      {
       "@class": "com.googlecode.jmxtrans.model.output.GraphiteWriter",
       "settings": {
        "typeNames": [
         "name","type"
        ],
        "host": "<%= @graphite_host %>",
        "port": 2020,
        "rootPrefix": "prod.<%= @colo %>.grid.<%= @cluster_name %>.app"
       }
      }
     ]
    },
    {
     "resultAlias": "producer",
     "obj": "kafka.producer:client-id=*,node-id=*,type=producer-node-metrics,*",
     "attr": [
     ],
     "outputWriters": [
      {
       "@class": "com.googlecode.jmxtrans.model.output.GraphiteWriter",
       "settings": {
        "typeNames": [
         "name","client-id","node-id"
        ],
        "host": "<%= @graphite_host %>",
        "port": 2020,
        "rootPrefix": "prod.<%= @colo %>.grid.<%= @cluster_name %>.app"
       }
      }
     ]
    }
  ]
 }
 ]
}
